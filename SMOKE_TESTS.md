# üî• Smoke-—Ç–µ—Å—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª.

---

## 1. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
sudo apt-get install -y coccinelle rpm2cpio cpio python3 python3-pip gcc
pip3 install -r requirements.txt
```

### –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
```bash
chmod +x scripts/*.sh
```

### –ó–∞–ø—É—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑ –Ω–∞ SRPM
```bash
export SRPM_URL="https://download.copr.fedorainfracloud.org/results/kwizart/kernel-longterm-5.10/epel-8-x86_64/09557158-kernel-longterm/kernel-longterm-5.10.244-200.el8.src.rpm"
export KERNEL_VER="5.10"
bash scripts/run_analysis.sh
```

### –ü—Ä–æ–≤–µ—Ä—å –æ—Ç—á—ë—Ç—ã
```bash
ls runs/*/reports/
cat runs/*/reports/combined-report.md | head -50
```

### –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
- –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
  ```
  [INFO] –õ–æ–≥–∏ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤: runs/<timestamp>-<codename>/logs/run.log
  ```
- –ü–µ—Ä–µ–π–¥–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –∏ —É–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–∞–º –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∏:
  - `–ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ (—Å–µ—Å—Å–∏—è: ...)`
  - `–ó–∞–ø—É—Å–∫–∞–µ–º Python-–∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä`
  - `–ì–æ—Ç–æ–≤–æ! –û—Ç—á—ë—Ç—ã –ª–µ–∂–∞—Ç...`

### –ü—Ä–æ–≤–µ—Ä—å AST API
- –í `run.log` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ –æ–¥–Ω–æ–≥–æ –∏–∑ –≤–∏–¥–æ–≤:
  - `[AST] –ò—Å–ø–æ–ª—å–∑—É–µ–º API: tree_sitter_languages (lang=c)`
  - `[AST] –ò—Å–ø–æ–ª—å–∑—É–µ–º API: tree_sitter (—Å—Ç–∞—Ä—ã–π set_language)`
  - `[AST] –ò—Å–ø–æ–ª—å–∑—É–µ–º API: tree_sitter (–Ω–æ–≤—ã–π .language property)`
- –ï—Å–ª–∏ API –Ω–µ —É–¥–∞–ª–æ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –±—É–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:
  - `[AST] –ù–µ —É–¥–∞–ª–æ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Tree-sitter: ...`

---

## 2. CI (GitHub Actions)

### –ó–∞–ø—É—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é
- Workflow **Analyze CentOS Patches**
- Workflow **Analyze Universal Kernels**

### –ü—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å —à–∞–≥ `Install deps` ‚Üí `pip3 install -r requirements.txt`
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ `Permission denied`
- ‚úÖ –ü–æ—è–≤–∏–ª–∏—Å—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã `centos-reports` / `universal-reports`

---

## 3. Pass/Fail –∫—Ä–∏—Ç–µ—Ä–∏–∏
- –û—Ç—á—ë—Ç—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç–∫–ª—é—á—ë–Ω–Ω–æ–º AST/ML.
- –í –æ—Ç—á—ë—Ç–µ –µ—Å—Ç—å –±–ª–æ–∫–∏:
  - `## üîπ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑`
  - `## üîπ ML-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è`
- –õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å—Ç—Ä–æ–∫–∏:
  - `–õ–æ–≥–∏ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤: .../run.log`
  - `–ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ (—Å–µ—Å—Å–∏—è: ...)`
  - `–ì–æ—Ç–æ–≤–æ! –û—Ç—á—ë—Ç—ã –ª–µ–∂–∞—Ç...`
  - `[AST] –ò—Å–ø–æ–ª—å–∑—É–µ–º API: ...` (–∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–± –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏)
